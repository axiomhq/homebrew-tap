# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Axiom < Formula
  desc "Powerful log analytics from the comfort of your command-line"
  homepage "https://axiom.co"
  version "0.5.1"
  license "MIT"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/axiomhq/cli/releases/download/v0.5.1/axiom_0.5.1_darwin_arm64.tar.gz"
      sha256 "065a8d14dc77f7bfc76a1626e2faaa3491ce56c1cbbadf9cad114cc6ece3294e"

      def install
        bin.install "axiom"
        man1.install Dir["man/axiom*.1"]
        (bash_completion/"axiom").write `#{bin}/axiom completion bash`
        (fish_completion/"axiom.fish").write `#{bin}/axiom completion fish`
        (zsh_completion/"_axiom").write `#{bin}/axiom completion zsh`
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/axiomhq/cli/releases/download/v0.5.1/axiom_0.5.1_darwin_amd64.tar.gz"
      sha256 "4acd6ddf984254a503651836d0862578025c287b290c0dc4852aaf6295489492"

      def install
        bin.install "axiom"
        man1.install Dir["man/axiom*.1"]
        (bash_completion/"axiom").write `#{bin}/axiom completion bash`
        (fish_completion/"axiom.fish").write `#{bin}/axiom completion fish`
        (zsh_completion/"_axiom").write `#{bin}/axiom completion zsh`
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/axiomhq/cli/releases/download/v0.5.1/axiom_0.5.1_linux_arm64.tar.gz"
      sha256 "92b2ff1a7af202e54e214db318b41e04f980117a149cc08c1fff0408dbf8f642"

      def install
        bin.install "axiom"
        man1.install Dir["man/axiom*.1"]
        (bash_completion/"axiom").write `#{bin}/axiom completion bash`
        (fish_completion/"axiom.fish").write `#{bin}/axiom completion fish`
        (zsh_completion/"_axiom").write `#{bin}/axiom completion zsh`
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/axiomhq/cli/releases/download/v0.5.1/axiom_0.5.1_linux_armv6.tar.gz"
      sha256 "4873f8f7a86800f43f6aed9318b68a52e91e1753f7deadcd83fae37810fe26e3"

      def install
        bin.install "axiom"
        man1.install Dir["man/axiom*.1"]
        (bash_completion/"axiom").write `#{bin}/axiom completion bash`
        (fish_completion/"axiom.fish").write `#{bin}/axiom completion fish`
        (zsh_completion/"_axiom").write `#{bin}/axiom completion zsh`
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/axiomhq/cli/releases/download/v0.5.1/axiom_0.5.1_linux_amd64.tar.gz"
      sha256 "e3f8ffbcba9b2d91292c6f2cd04aacdc8427149b6495e9d170a6b584e8ff8600"

      def install
        bin.install "axiom"
        man1.install Dir["man/axiom*.1"]
        (bash_completion/"axiom").write `#{bin}/axiom completion bash`
        (fish_completion/"axiom.fish").write `#{bin}/axiom completion fish`
        (zsh_completion/"_axiom").write `#{bin}/axiom completion zsh`
      end
    end
  end

  test do
    assert_match "Axiom CLI version #{version}", shell_output("#{bin}/axiom -v")
  end
end
