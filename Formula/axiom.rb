# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Axiom < Formula
  desc "Powerful log analytics from the comfort of your command-line"
  homepage "https://axiom.co"
  version "0.2.5"
  license "MIT"
  bottle :unneeded

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/axiomhq/cli/releases/download/v0.2.5/axiom_0.2.5_darwin_amd64.tar.gz"
      sha256 "c8e1497056ec067924e0e050fb1a80cd9fe2a69c4d6908dc97b1d69345048c15"
    end
    if Hardware::CPU.arm?
      url "https://github.com/axiomhq/cli/releases/download/v0.2.5/axiom_0.2.5_darwin_arm64.tar.gz"
      sha256 "971858a267b5f14f7fe0389fa9ce6efff1823dbf2d3ce6bae5b1d772799ecdeb"
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/axiomhq/cli/releases/download/v0.2.5/axiom_0.2.5_linux_amd64.tar.gz"
      sha256 "8fbe04c1d5f5cf59b7ad70aaa19ca27c80faffab2b561b7a5e7b5fda2960e903"
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/axiomhq/cli/releases/download/v0.2.5/axiom_0.2.5_linux_armv6.tar.gz"
      sha256 "b4d61072465ced992503cabb14132892462e8a61c2fc9b96191ecd4f47385ee5"
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/axiomhq/cli/releases/download/v0.2.5/axiom_0.2.5_linux_arm64.tar.gz"
      sha256 "021793efaf2ded2e109b9ed3d7e0afb2cbc5e2de3a0b60f6d629818698abd01f"
    end
  end

  def install
    bin.install "axiom"
    man1.install Dir["man/axiom*.1"]
    (bash_completion/"axiom").write `#{bin}/axiom completion bash`
    (fish_completion/"axiom.fish").write `#{bin}/axiom completion fish`
    (zsh_completion/"_axiom").write `#{bin}/axiom completion zsh`
  end

  test do
    assert_match "Axiom CLI version #{version}", shell_output("#{bin}/axiom -v")
  end
end
